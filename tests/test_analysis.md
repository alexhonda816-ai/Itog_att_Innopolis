# Юнит-тесты для модулей анализа

## Введение

Это руководство посвящено тестированию функциональности модуля анализа, используемого в приложении магазина. Тщательное тестирование обеспечивает стабильность и надёжность программного обеспечения, предотвращая появление багов и гарантируя правильное функционирование всех компонентов.

---

## Тестируемые функции

Тестируются две ключевые функции из модуля анализа:

1. **extract_city**: Фильтрация городов из полного адреса.
2. **sort_orders**: Сортировка заказов по различным критериям.

---

## Тесты на экстракцию города

Тестируется функция `extract_city`, предназначенная для выделения названия города из произвольного адреса.

### Тестирование корректных адресов

Мы создали набор тестов для проверок правильных вариантов адресов:
pythoncases = {    "Москва, ул. Ленина, д. 1": "Москва",    "Санкт-Петербург г., Невский проспект, дом 12": "Санкт-Петербург",    "Краснодар г., ул. Пушкина, 12": "Краснодар",    "Екатеринбург, Свердловская область, улица Карла Маркса, 10": "Екатеринбург",    "Новосибирск, Красный проспект, 12": "Новосибирск",    "Владивосток, Приморский край, Светланская улица, 15": "Владивосток",}Ожидается, что каждый случай вернёт правильный город.### Тестирование некорректных адресовТакже важно проверить случаи, когда адрес неполон или отсутствует ключевая информация:

pythoninvalid_cases = [    "",    "ул. Ленина, д. 1",    "Ленинградская обл.",    "г."]Ожидаемый результат для каждого случая — "Неизвестно".---## Тесты на сортировку заказовВторая важная функция — сортировка заказов. Чтобы убедиться, что сортировка работает правильно, были созданы тесты, имитирующие реальные сценарии.### Тестирование сортировки по сумме заказаПервый тест проверяет правильную сортировку заказов по убыванию сумм:

pythonmock_orders = [    MockOrder(1, "Иван Иванов", "2023-01-01", 100),    MockOrder(2, "Сергей Петров", "2023-02-01", 150),    MockOrder(3, "Анна Смирнова", "2023-03-01", 200),    MockOrder(4, "Михаил Кузнецов", "2023-04-01", 50),]sorted_orders = sort_orders(mock_orders, by='total_cost', reverse=True)expected_ids = [3, 2, 1, 4]Второй тест проверяет, как функция сортирует заказы по возрастанию:

pythonsorted_orders = sort_orders(mock_orders, by='total_cost', reverse=False)expected_ids = [4, 1, 2, 3]---## Запуск юнит-тестовДля запуска теста нужно запустить скрипт тестирования. Стандартный вариант выглядит так:

bashpython tests.py

Если все тесты пройдены успешно, значит ваш модуль анализа готов к использованию!

---

## Заключение

Правильно настроенный набор юнит-тестов существенно повышает качество разработки и снижает риск появления регрессий. Проведение регулярных тестов обеспечит уверенность в работоспособности вашего приложения.